(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){e.exports="data:image/png;base64,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"},101:function(e,t,a){e.exports=a.p+"static/media/user.8e3c033e.png"},111:function(e,t,a){e.exports=a(154)},138:function(e,t,a){},139:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),s=a(37),c=a.n(s),i=a(48),l=a(25),m=a(107),u=a(32),d=a.n(u),g=a(21),p=a(50),h=a.n(p),f=h.a.create({baseURL:"https://5d1b60a5dd81710014e886c4.mockapi.io/api/v1",timeout:1e4}),E=h.a.CancelToken,b={getPost:function(e){return f.get("/posts/".concat(e))},getPosts:function(){return f.get("/posts")},getPaginatedPosts:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return f.get("/posts/?page=".concat(e,"&limit=").concat(t))},submitPost:function(e){return f.post("/posts",{title:e.title,body:e.body,tags:e.tags})},updatePost:function(e,t){return f.put("/posts/".concat(e),{title:t.title,body:t.body,tags:t.tags})},deletePost:function(e){return f.delete("/posts/".concat(e))},getLikes:function(e){return f.get("/posts/".concat(e,"/likes"))},submitLike:function(e){return f.post("/posts/".concat(e,"/likes"))},deleteLike:function(e,t){return f.delete("/posts/".concat(e,"/likes/").concat(t))},getComments:function(e){return f.get("/posts/".concat(e,"/comments?sortBy=createdAt&order=desc"))},getComment:function(e,t){return f.get("/posts/".concat(e,"/comments/").concat(t))},submitComment:function(e){return f.post("/posts/".concat(e.postId,"/comments"),{name:e.name,message:e.message})},deleteComment:function(e){return f.delete("/posts/".concat(e.postId,"/comments/").concat(e.commentId))},searchPosts:function(e){return void 0!==n&&n(),f.get("/posts?search=".concat(e),{cancelToken:new E(function(e){n=e})})},sortPosts:function(e,t){return f.get("/posts?sortBy=".concat(e,"&order=").concat(t))}},S=function(e,t){return{type:e,payload:t}},C=function(e){return{request:function(t){return S("".concat(e,"_REQUEST"),t)},success:function(t){return S("".concat(e,"_SUCCESS"),t)},failure:function(t){return S("".concat(e,"_FAILURE"),t)}}},k=function(e){if(null===localStorage.getItem("likes")){localStorage.setItem("likes",JSON.stringify({}))}var t=JSON.parse(localStorage.getItem("likes"));return e.map(function(e){return void 0===t[e.id]&&(t[e.id]=0),e}),localStorage.setItem("likes",JSON.stringify(t)),t},O=function(e){return JSON.parse(localStorage.getItem("likes"))[e]},v=function(e){var t=JSON.parse(localStorage.getItem("likes"));t[e]?t[e]=0:t[e]=1,localStorage.setItem("likes",JSON.stringify(t))},y={addComment:C("ADD_COMMENT"),getComment:C("GET_COMMENTS"),deleteComment:C("DELETE_COMMENT")},j="ADD_COMMENT_REQUEST",P="GET_COMMENTS_REQUEST",A="DELETE_COMMENT_REQUEST",N=d.a.mark(D),M=d.a.mark(I),w=d.a.mark(L);function D(){var e,t,a,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,Object(g.d)(P);case 4:return e=r.sent,t=e.payload,r.next=8,Object(g.b)(b.getComments,t.postId);case 8:return a=r.sent,n=a.data,r.next=12,Object(g.c)(y.getComment.success({postId:t.postId,data:n}));case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),console.log(r.t0);case 17:r.next=0;break;case 19:case"end":return r.stop()}},N,null,[[1,14]])}function I(){var e,t,a,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,Object(g.d)(j);case 4:return e=r.sent,t=e.payload,r.next=8,Object(g.b)(b.submitComment,t);case 8:return a=r.sent,n=a.data,r.next=12,Object(g.c)(y.addComment.success({data:n}));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(g.c)(y.addComment.failure({error:r.t0}));case 18:r.next=0;break;case 20:case"end":return r.stop()}},M,null,[[1,14]])}function L(){var e,t;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,a.next=4,Object(g.d)(A);case 4:return e=a.sent,t=e.payload,a.next=8,Object(g.b)(b.deleteComment,t);case 8:return a.next=10,Object(g.c)(y.deleteComment.success({}));case 10:return a.next=12,Object(g.c)(y.getComment.request({postId:t.postId}));case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(1),a.next=18,Object(g.c)(y.deleteComment.failure({error:a.t0}));case 18:a.next=0;break;case 20:case"end":return a.stop()}},w,null,[[1,14]])}var x=d.a.mark(T);function T(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([D(),I(),L()]);case 2:case"end":return e.stop()}},x)}var G=T,R=a(63),B=a(33),F={comments:[],id:0,message:"",name:""},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(B.a)({},e,{id:t.payload.postId,message:t.payload.message,name:t.payload.name,loading:!0});case"ADD_COMMENT_SUCCESS":return Object(B.a)({},e,{loading:!1,comments:[t.payload.data].concat(Object(R.a)(e.comments))});case"ADD_COMMENT_FAILURE":return Object(B.a)({},e,{loading:!1,error:!0,errorMessage:t.payload.error});case P:return Object(B.a)({},e,{id:t.payload.postId,comments:[]});case"GET_COMMENTS_SUCCESS":return Object(B.a)({},e,{loading:!1,id:t.payload.postId,comments:t.payload.data});case"GET_COMMENTS_FAILURE":return Object(B.a)({},e,{loading:!1,error:!0,errorMessage:t.payload.error});case A:case"DELETE_COMMENT_SUCCESS":return Object(B.a)({},e);case"DELETE_COMMENT_FAILURE":return Object(B.a)({},e,{loading:!1,error:!0,errorMessage:t.payload.error});default:return e}},W=Object(l.c)({commentsReducer:Q}),J=(a(138),a(28)),H=a(42),V=(a(139),a(140),a(14)),U=a(12),q=a(16),z=a(15),K=a(17),Y=a(85),Z=a.n(Y),_=a(87),X=a.n(_),$=a(84),ee=a.n($),te=function(e){function t(e){var a;return Object(V.a)(this,t),a=Object(q.a)(this,Object(z.a)(t).call(this,e)),console.log(),a}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{fluid:!0,id:"modified-container"},o.a.createElement("div",{className:"Logo"},o.a.createElement(J.b,{to:"/Blog-Reaction"},o.a.createElement(X.a,{src:ee.a,thumbnail:!0,className:"img-responsive"})))),o.a.createElement("div",{className:"dropdown-divider"}))}}]),t}(o.a.Component),ae=a(175),ne=a(177),re=a(170),oe=a(176),se=a(88),ce=a.n(se),ie=a(171),le=a(98),me=a(172),ue=a(183),de=a(38),ge=a(181),pe=a(169),he=a(99),fe=a.n(he),Ee=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(q.a)(this,Object(z.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(de.a)({},e,t.target.value),function(){return a.props.handleSubmit(a.state.keyword)})}},a.handleSubmit=function(e){a.props.handleSubmit(a.state.keyword)},a.state={keyword:""},a}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,null,o.a.createElement(ge.a.Group,null,o.a.createElement(pe.a,null,o.a.createElement(ge.a.Control,{id:"keywordInput",type:"text",placeholder:"Search Post",value:this.state.keyword,onChange:this.handleChange("keyword"),autoComplete:"off","aria-describedby":"inputGroupPrepend"}),o.a.createElement(pe.a.Prepend,null,o.a.createElement(pe.a.Text,{id:"inputGroupPrepend"},o.a.createElement(fe.a,null)))))))}}]),t}(o.a.Component),be=a(100),Se=a.n(be),Ce=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(q.a)(this,Object(z.a)(t).call(this,e))).state={handleSubmit:e.handleSubmit},a}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return o.a.createElement(re.a,{fluid:!0,id:"modified-container"},o.a.createElement(ie.a,null,o.a.createElement(le.a,{className:"mb-10"},o.a.createElement(ie.a,null,o.a.createElement(me.a,{src:Se.a,rounded:!0}),"\xa0\xa0",o.a.createElement("h2",null,"Posts"),"\xa0\xa0",o.a.createElement(J.b,{to:"/Blog-Reaction/posts/new"},o.a.createElement(ue.a,null,"Add New")))),o.a.createElement(le.a,{md:6}),o.a.createElement(le.a,null,o.a.createElement(Ee,{handleSubmit:this.state.handleSubmit}))))}}]),t}(o.a.Component),ke=a(173),Oe=a(174),ve="title",ye="tags",je="createdAt",Pe=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(q.a)(this,Object(z.a)(t).call(this,e))).handleClick=function(e){"asc"===a.state.order?a.props.handleSort(e,"desc"):a.props.handleSort(e,"asc")},a.state={order:e.order},a}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement(ke.a,{className:"SortArrow"});return"asc"===this.state.order&&(t=o.a.createElement(Oe.a,{className:"SortArrow"})),o.a.createElement(o.a.Fragment,null,o.a.createElement("thead",{className:"thead-dark"},o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("input",{type:"checkbox"})),o.a.createElement("th",{className:"Link",onClick:function(){return e.handleClick(ve)}},"Title ",t),o.a.createElement("th",{className:"Link",onClick:function(){return e.handleClick(ye)}},"Tags ",t),o.a.createElement("th",{className:"Link",onClick:function(){return e.handleClick(je)}},"Date ",t))))}}]),t}(o.a.Component),Ae=function(e){function t(){var e,a;Object(V.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],loading:!0,error:!1,errorMSG:"",offset:0,totalPosts:0,paginationMode:1,sortOrder:"asc"},a.handleSearchSubmit=function(e){a.setState({paginationMode:0}),""===e?(a.getTotalPostsCount(),a.getPosts(1),a.setState({paginationMode:1})):b.searchPosts(e).then(function(e){a.setState({posts:e.data,totalPosts:e.data.length})}).catch(function(e){h.a.isCancel(e)||a.setState({error:!0,errorMSG:e.message})})},a.handlePaginationClick=function(e,t){a.setState({offset:e}),a.getPosts(t)},a.getSortedPosts=function(e,t){b.sortPosts(e,t).then(function(e){a.setState({loading:!1,posts:e.data,totalPosts:e.data.length})}).catch(function(e){a.setState({loading:!1,error:!0,errorMSG:e.message})})},a.handleSortingClick=function(e,t){a.setState({loading:!0,paginationMode:0,sortOrder:t},function(){return a.getSortedPosts(e,a.state.sortOrder)})},a.getTotalPostsCount=function(){var e=0;b.getPosts().then(function(t){e=t.data.length,a.setState({totalPosts:e})}).catch(function(e){a.setState({error:!0,errorMSG:e})})},a.getPosts=function(e){0===a.state.posts.length&&a.setState({loading:!0});try{b.getPaginatedPosts(e).then(function(e){a.setState({loading:!1,posts:e.data})}).finally(function(){k(a.state.posts)})}catch(t){a.setState({loading:!1,errorMSG:t.message,error:!0})}},a.deletePost=function(e){b.deletePost(e).then(function(e){}).catch(function(e){a.setState({error:!0,errorMSG:e})}).finally(function(){a.getPosts(1)})},a}return Object(K.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.getTotalPostsCount(),this.getPosts(1)}},{key:"render",value:function(){var e=this,t={year:"numeric",month:"numeric",day:"numeric"};return!0===this.state.loading?o.a.createElement("div",{className:"Center"},o.a.createElement(ae.a,null)):!0===this.state.error?o.a.createElement("div",{className:"Center"},"Something Went Wrong",o.a.createElement("p",{className:"Red"},this.state.errorMSG)):o.a.createElement("div",null,o.a.createElement(Ce,{handleSubmit:this.handleSearchSubmit}),o.a.createElement(re.a,{fluid:!0,id:"modified-container"},o.a.createElement(oe.a,{responsive:!0,striped:!0,hover:!0,size:"sm"},o.a.createElement(Pe,{handleSort:this.handleSortingClick,order:this.state.sortOrder}),o.a.createElement("tbody",null,this.state.posts.map(function(a){return o.a.createElement("tr",{key:a.id},o.a.createElement("th",{scope:"row"},o.a.createElement("input",{type:"checkbox"})),o.a.createElement("td",null,o.a.createElement(J.b,{to:"/Blog-Reaction/post/".concat(a.id),className:"PostTitle"},a.title),o.a.createElement("br",null),"\xa0",o.a.createElement(J.b,{to:"/Blog-Reaction/post/edit/".concat(a.id)},"Edit"),"\xa0\xa0",o.a.createElement(J.b,{to:"#",onClick:function(){return e.deletePost(a.id)}},"Delete")),o.a.createElement("td",null,a.tags),o.a.createElement("td",null,new Date(a.createdAt).toLocaleDateString("en-GB",t)))})))),o.a.createElement(ne.a,{container:!0},o.a.createElement(ne.a,{item:!0,xs:4}),o.a.createElement(ne.a,{item:!0,xs:4},1===this.state.paginationMode&&o.a.createElement(ce.a,{limit:5,offset:this.state.offset,total:this.state.totalPosts,onClick:function(t,a,n){return e.handlePaginationClick(a,n)},className:"Center",size:"large",nextPageLabel:o.a.createElement("span",{className:"XLargeFont"},">"),previousPageLabel:o.a.createElement("span",{className:"XLargeFont"}," ","<")})),o.a.createElement(ne.a,{item:!0,xs:4})))}}]),t}(o.a.Component),Ne=a(105),Me=a.n(Ne),we=a(104),De=a.n(we),Ie=a(182),Le=a(180),xe=a(178),Te=a(101),Ge=a.n(Te),Re=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(q.a)(this,Object(z.a)(t).call(this,e))).getComments=function(){a.props.getCommentsRequest({postId:a.state.id})},a.handleDelete=function(e){a.props.deleteCommentRequest({postId:a.state.id,commentId:e})},a.getFormattedDate=function(e){return new Date(1e3*e).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}).toString()},a.state={id:e.postId},a}return Object(K.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.getComments()}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Le.a,null,this.props.comments.map(function(t){return o.a.createElement("div",{key:t.id},o.a.createElement(xe.a,{as:"li"},o.a.createElement("img",{src:Ge.a,className:"mr-3 roundedCircle",alt:"user profile",width:64,height:64}),o.a.createElement(xe.a.Body,null,o.a.createElement("h5",{className:"CommentUser"},t.name),o.a.createElement("p",{className:"CommentDate"},e.getFormattedDate(t.createdAt)),o.a.createElement("p",{className:"CommentMessage"},t.message),o.a.createElement("p",null,o.a.createElement("span",{onClick:function(){return e.handleDelete(t.id)},className:"MockLink"},"Delete")))),o.a.createElement("div",{className:"dropdown-divider"}))})))}}]),t}(o.a.Component);var Be=function(e){return y.getComment.request(e)},Fe=function(e,t){return y.deleteComment.request(e,t)},Qe=Object(i.b)(function(e){return{comments:e.commentsReducer.comments}},function(e){return Object(l.b)({getCommentsRequest:Be,deleteCommentRequest:Fe},e)})(Re),We=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(q.a)(this,Object(z.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(de.a)({},e,t.target.value))}},a.handleSubmit=function(e){a.props.addCommentRequest(a.state.id,"John Doe",a.state.message),a.setState({name:"",message:""}),e.preventDefault()},a.state={id:e.postId,name:"",message:""},a}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{onSubmit:this.handleSubmit},o.a.createElement(ie.a,{id:"PaddingRow"},o.a.createElement(le.a,{md:9},o.a.createElement(ge.a.Group,{controlId:"comment"},o.a.createElement(ge.a.Control,{as:"textarea",rows:"10",value:this.state.message,onChange:this.handleChange("message"),placeholder:"Write your comment"})),o.a.createElement(ge.a.Group,{className:"CommentSubmit"},o.a.createElement(ue.a,{type:"submit"},"Leave Your Comment"))))))}}]),t}(o.a.Component),Je=function(e,t,a){return y.addComment.request({postId:e,name:t,message:a})},He=Object(i.b)(null,function(e){return Object(l.b)({addCommentRequest:Je},e)})(We),Ve=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(q.a)(this,Object(z.a)(t).call(this,e))).getPost=function(){a.setState({loading:!0}),b.getPost(a.state.id).then(function(e){a.setState({post:e.data,loading:!1})}).catch(function(e){a.setState({loading:!1,error:!0,errorMSG:e.message})})},a.getLikes=function(){try{O(a.state.id)?a.setState({like:1}):a.setState({like:0}),b.getLikes(a.state.id).then(function(e){var t=e.data;a.setState({totalLikes:t.length})})}catch(e){a.setState({loading:!1,error:!0,errorMSG:e.message})}},a.handleLike=function(){if(v(a.state.id),O(a.state.id))b.submitLike(a.state.id).catch(function(e){a.setState({loading:!1,error:!0,errorMSG:e.message})}).finally(function(){a.getLikes()});else{var e=[],t=0;b.getLikes(a.state.id).then(function(t){e=t.data}).catch(function(e){a.setState({loading:!1,error:!0,errorMSG:e.message})}).finally(function(){e.length>0&&(t=e[0].id,b.deleteLike(a.state.id,t)),a.getLikes()})}},a.state={id:e.match.params.id,post:{},like:0,totalLikes:0,loading:!0,error:!1,errorMSG:""},a}return Object(K.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.getPost(),this.getLikes()}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&(this.getPost(),this.getLikes())}},{key:"render",value:function(){var e=o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"success",onClick:this.handleLike},o.a.createElement(De.a,{className:"White"}),"\xa0",this.state.totalLikes));0===this.state.like&&(e=o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.a,{variant:"danger",onClick:this.handleLike},o.a.createElement(Me.a,{className:"White"}),"\xa0",this.state.totalLikes)));return!0===this.state.loading?o.a.createElement("div",{className:"Center"},o.a.createElement(ae.a,null)):!0===this.state.error?o.a.createElement("div",{className:"Center"},"Something Went Wrong",o.a.createElement("p",{className:"Red"},this.state.errorMSG)):o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{fluid:!0},o.a.createElement(ie.a,null,o.a.createElement(Ie.a,{className:"bg-dark text-white"},o.a.createElement(Ie.a.Img,{src:"../../images/post-bg.jpg",alt:"Post Feature image"}),o.a.createElement(Ie.a.ImgOverlay,{id:"Overlay"},o.a.createElement(Ie.a.Title,{as:"h1",className:"PostViewTitle"},this.state.post.title))))),o.a.createElement("br",null),o.a.createElement(re.a,{id:"modified-container"},o.a.createElement(ie.a,null,this.state.post.body),o.a.createElement(ie.a,{id:"PaddingRow"},o.a.createElement("div",{className:"LikeButton"},e)),o.a.createElement(He,{postId:this.state.id}),o.a.createElement(ie.a,{id:"PaddingRow"},o.a.createElement(Qe,{postId:this.state.id}))))}}]),t}(o.a.Component),Ue=a(106),qe=a.n(Ue),ze=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(q.a)(this,Object(z.a)(t).call(this,e))).state={title:"",tags:"",body:"",redirect:!1},a.handleChange=function(e){return function(t){a.setState(Object(de.a)({},e,t.target.value))}},a.getExistingPost=function(){b.getPost(a.state.postId).then(function(e){var t=e.data;a.setState({title:t.title,body:t.body,tags:t.tags})})},a.submitNewPost=function(e){b.submitPost(e).then(function(e){}).catch(function(e){console.log(e)}).finally(function(){a.setState({redirect:!0})})},a.updateExistingPost=function(e){b.updatePost(a.state.postId,e).then(function(e){}).catch(function(e){console.log(e)}).finally(function(){a.setState({redirect:!0})})},a.handleFormSubmit=function(e){e.preventDefault();var t={title:a.state.title,body:a.state.body,tags:a.state.tags};!0===a.state.updateMode?a.updateExistingPost(t):a.submitNewPost(t)},a.state={postId:e.match.params.id,updateMode:!0,title:"",tags:"",body:"",redirect:!1},a}return Object(K.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){void 0===this.props.match.params.id&&this.setState({updateMode:!1}),void 0!==this.state.postId&&this.getExistingPost()}},{key:"render",value:function(){if(!0===this.state.redirect)return o.a.createElement(H.a,{to:"/posts",push:!0});var e=o.a.createElement(ue.a,{block:!0,type:"submit"},"Publish");return!0===this.state.updateMode&&(e=o.a.createElement(ue.a,{block:!0,type:"submit"},"Update")),o.a.createElement(re.a,{fluid:!0},o.a.createElement("h1",null,this.state.updateMode?"Edit Post":"Add New Post"),o.a.createElement(ge.a,{onSubmit:this.handleFormSubmit},o.a.createElement(ie.a,null,o.a.createElement(le.a,{md:9},o.a.createElement(ge.a.Group,{controlId:"formBasicEmail"},o.a.createElement(ge.a.Control,{type:"text",placeholder:"Enter post title here",value:this.state.title,onChange:this.handleChange("title")})),o.a.createElement(ge.a.Group,{controlId:"postBody"},o.a.createElement(ge.a.Control,{as:"textarea",rows:"10",value:this.state.body,onChange:this.handleChange("body")}))),o.a.createElement(le.a,{md:3},o.a.createElement("div",{id:"tagsInput"},o.a.createElement(ge.a.Label,{id:""},"Post Tags"),o.a.createElement(pe.a,null,o.a.createElement(ge.a.Control,{type:"text",value:this.state.tags,onChange:this.handleChange("tags"),autoComplete:"off","aria-describedby":"inputGroupPrepend1"}),o.a.createElement(pe.a.Prepend,null,o.a.createElement(pe.a.Text,{id:"inputGroupPrepend1"},o.a.createElement(qe.a,null)))),o.a.createElement(ge.a.Text,null,"Seperate Tags with commas"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ge.a.Group,{controlId:"formBasicEmail"},e))))),o.a.createElement(J.b,{to:"/Blog-Reaction/posts"},o.a.createElement(ue.a,null,"Back to Posts")))}}]),t}(o.a.Component);var Ke=function(){return o.a.createElement(J.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(te,null),o.a.createElement(H.d,null,o.a.createElement(H.b,{path:"/Blog-Reaction",exact:!0,component:Ae}),o.a.createElement(H.b,{path:"/Blog-Reaction/posts",exact:!0,component:Ae}),o.a.createElement(H.b,{path:"/Blog-Reaction/posts/new",exact:!0,component:ze}),o.a.createElement(H.b,{path:"/Blog-Reaction/post/edit/:id",exact:!0,component:ze}),o.a.createElement(H.b,{path:"/Blog-Reaction/post/:id",exact:!0,component:Ve}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=Object(m.a)(),Ze=Object(l.e)(W,Object(l.a)(Ye));Ye.run(G);t.default=Ze;c.a.render(o.a.createElement(i.a,{store:Ze},o.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e,t,a){e.exports=a.p+"static/media/logo.4c016142.png"}},[[111,1,2]]]);
//# sourceMappingURL=main.2ef17709.chunk.js.map